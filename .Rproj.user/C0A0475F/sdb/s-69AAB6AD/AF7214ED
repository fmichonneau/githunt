{
    "collab_server" : "",
    "contents" : "#' Get email address from github username\n#'\n#' Gets the email address of a person based upon their github username.\n#' @param github_username A string containing someone's github username.\n#' @return A character vector (probably of length 1) containing the email\n#' address of that user.\n#' @details This currently trawls the whole of the user's github public event\n#' data for strings that look like email addresses. that means that other\n#' email addresses beyond the one belonging to the github user could be found\n#' (though this seems to be a rare thing).\n#' @examples\n#' get_email_addresses(\"richierocks\")\n#' @importFrom assertive.types assert_is_a_string\n#' @importFrom httr GET\n#' @importFrom httr stop_for_status\n#' @importFrom httr content\n#' @importFrom magrittr %>%\n#' @importFrom stats na.omit\n#' @importFrom stringi stri_detect_fixed\n#' @importFrom stringi stri_extract_all_regex\n#' @export\nget_email_addresses <- function(github_username) {\n  assert_is_a_string(github_username)\n\n  # Retrieve public events JSON data\n  events_url <- sprintf(\n    \"https://api.github.com/users/%s/events/public\",\n    github_username\n  )\n\n  response <- GET(events_url)\n  stop_for_status(response)\n  contents <- content(response, as = \"parsed\")\n\n  # Quick pass through JSON, getting fields containing @ character\n  possible_email_elements <- contents %>%\n    rapply(\n      function(x) {\n        if(stri_detect_fixed(x, \"@\")) {\n          x\n        } else {\n          NULL\n        }\n      },\n      how = \"unlist\"\n    ) %>%\n    unname()\n\n  # Refine to match on emails\n  email_rx <- \"^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\"\n  possible_email_elements %>%\n    stri_extract_all_regex(email_rx) %>%\n    unlist(use.names = FALSE) %>%\n    na.omit() %>%\n    unique()\n}\n",
    "created" : 1505756558173.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2428654201",
    "id" : "AF7214ED",
    "lastKnownWriteTime" : 1505762149,
    "last_content_update" : 1505762150001,
    "path" : "~/workspace/githunt/R/get_email_addresses.R",
    "project_path" : "R/get_email_addresses.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}